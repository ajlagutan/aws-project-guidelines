# Folder Structure
```
ServiceProject/
│
├── src/
│   ├── ServiceProject.sln
│   │
│   ├── ModuleProject1/
│   │   │
│   │   ├── src/
│   │   │   │
│   │   │   ├── FunctionProject1/
│   │   │   │   ├── aws-lambda-tools-defaults.json
│   │   │   │   ├── Function.cs
│   │   │   │   ├── FunctionProject1.csproj
│   │   │   │   └── README.md
│   │   │   │
│   │   │   └── FunctionProject2/
│   │   │       ├── aws-lambda-tools-defaults.json
│   │   │       ├── Function.cs
│   │   │       ├── FunctionProject2.csproj
│   │   │       └── README.md
│   │   │
│   │   └── test/
│   │       │
│   │       ├── FunctionProject1.Tests/
│   │       │   ├── FunctionTest.cs
│   │       │   └── FunctionProject1.Tests.csproj
│   │       │
│   │       └── FunctionProject2.Tests/
│   │           ├── FunctionTest.cs
│   │           └── FunctionProject2.Tests.csproj
│   │
│   ├── ModuleProject2/
│   │   │
│   │   ├── src/...
│   │   └── test/...
│   │
│   └── ServiceProject/
│       ├── GlobalSuppressions.cs
│       ├── Program.cs
│       └── ServiceProject.csproj
│
├── .gitignore
├── cdk.json
└── README.md
```
## Prerequisites
### AWS CDK CLI
A command line tool for interacting with CDK apps. Use the CDK CLI to create, manage, and deploy your AWS CDK projects. The CDK CLI is also referred to as the CDK Toolkit.

1.  __Install the AWS CDK CLI__

    Use the Node Package Manager to install the CDK CLI. It is recommended that you install it globally using the following command:

    ```
    npm install -g aws-cdk
    ```
1.  __Verify a successful CDK CLI installation__

    Run the following command to verify a successful installation. The AWS CDK CLI should output the version number:

    ```
    cdk --version
    ```
[__Documentation__](https://docs.aws.amazon.com/cdk/v2/guide/cli.html)

### DOTNET CLI TEMPLATES 
New __.NET Core__ projects can be created with the `dotnet new` command. By installing the __Amazon.Lambda.Templates__ NuGet package the AWS Lamdba blueprints can be created from the dotnet new command.

To install the template execute the following command:
```
dotnet new install Amazon.Lambda.Templates::*
```

The `::*` on the end of the command indicates the latest version of the NuGet package.
-   To see a list of the Lambda templates execute:

    ```
    dotnet new list --author AWS
    ```
-   To get details about a template, you can use the help command:

    ```
    dotnet new lambda.EmptyFunction --help
    ```
-   To create a function, run the following command:

    ```
    dotnet new lambda.EmptyFunction --name BlogFunction --profile default --region us-east-2
    ```
[__Documentation__](https://github.com/aws/aws-lambda-dotnet?tab=readme-ov-file#dotnet-cli-templates)

## Building the Structure

The structure above is generated by using the command lines:
-   `cdk init`
    
    This command creates a structure of files and folders within the root folder directory to help organize the source code for your CDK app. 
    
    This structure of files and folders is called your CDK project.

    __Example:__
    ```
    cdk init app --language csharp
    ```

    [Documentation](https://docs.aws.amazon.com/cdk/v2/guide/hello_world.html)
    
-   `dotnet new lambda.EmptyFunction`

    To create a basic template for a .NET Lambda function, use the `lambda.EmptyFunction` template. 
    This creates a simple function that takes a string as input and converts it to upper case using the `ToUpper` method. 
    This template supports the following options:

    -   `--name` &ndash; The name of the function.
    -   `--region` &ndash; The AWS Region to create the function in.
    -   `--profile` &ndash; The name of a profile in your AWS SDK for .NET credentials file. To learn more about credential profiles in .NET, see [Configure AWS credentials](https://docs.aws.amazon.com/sdk-for-net/v3/developer-guide/net-dg-config-creds.html) in the _AWS SDK for .NET Developer Guide_.

    [Documentation](https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-cli.html#csharp-package-cli-create)

## PowerShell Scripts
I have created a __powershell scripts__ for a simpler initialization of our CDK folder structure.

### Script: [CreateCdkProject](./scripts/CreateCdkProject.ps1)
This powershell script simplifies the initialization of AWS CDK template by utilizing the `cdk init` command.

It uses the `--generate-only` options of the Amazon CDK CLI. It will not initialize the directory as a `git` repository.

Command Syntax:
```powershell
CreateCdkProject -ProjectName <Name> [-Language <Language>] [-Git] 
```

| Parameter   | Description  |
|-------------|--------------|
|`ProjectName`|__Required.__ The name of the CDK project.
|`Language`   |__Optional.__ Configures the script to use language that is specified. (Default is `csharp`)
|`Git`        |__Optional.__ Configures the script to initialize the directory as a GIT repository.

### Script: [CreateCdkLambdaProject](./scripts/CreateCdkLambdaProject.ps1)
This powershell script simplifies the creation of lambda function by utilizing the `dotnet new` command.

Command Syntax:
```powershell
CreateCdkLambdaProject -ModuleName <Name> -FunctionName <Name> [-TopLevel] 
```
| Parameter    | Description |
|--------------|-------------|
|`ModuleName`  |__Required.__ The name of the module the lambda function belongs to.
|`FunctionName`|__Required.__ The name of the lambda function.
|`TopLevel`    |__Optional.__ Not implemented yet.
